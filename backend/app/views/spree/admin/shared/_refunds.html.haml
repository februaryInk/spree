%table#refunds.table.table-condensed.table-bordered{"data-order-id" => "#{@order.number}"}
  %thead
    %tr{"data-hook" => "refunds_header"}
      %th= "#{Spree.t('date')}/#{Spree.t('time')}"
      %th= Spree.t(:payment_identifier)
      %th= Spree.t(:amount)
      %th= Spree.t(:payment_method)
      %th= Spree.t(:transaction_id)
      %th= Spree.t(:reason)
      - if show_actions
        %th
  %tbody
    - refunds.each do |refund|
      %tr{:class => "#{cycle('odd', 'even', name: 'refund_table_cycle')}", "data-hook" => "refunds_row", :id => "#{dom_id(refund)}"}
        %td= pretty_time(refund.created_at)
        %td= refund.payment.number
        %td.amount= refund.display_amount
        %td= payment_method_name(refund.payment)
        %td= refund.transaction_id
        %td= truncate(refund.reason.name, length: 100)
        - if show_actions
          %td.actions.actions-1
            = link_to_with_icon('edit', Spree.t(:edit), edit_admin_order_payment_refund_path(refund.payment.order, refund.payment, refund), no_text: true, class: "btn btn-default btn-sm") if can?(:edit, refund)
