%table.show.return-items-table.table.table-condensed.table-bordered.index
  %thead
    %tr
      %th= Spree.t(:product)
      %th= Spree.t(:sku)
      %th= Spree.t(:pre_tax_amount)
      %th= Spree.t(:preferred_reimbursement_type)
      %th= Spree.t(:exchange_for)
      %th= Spree.t(:acceptance_errors)
      - if show_decision
        %th
  %tbody
    - return_items.each do |return_item|
      %tr
        %td
          .variant-name= return_item.inventory_unit.variant.name
          .variant-options= return_item.inventory_unit.variant.options_text
        %td
          = return_item.inventory_unit.variant.sku
        %td
          = return_item.display_pre_tax_amount
        %td
          = reimbursement_type_name(return_item.preferred_reimbursement_type)
        %td
          = return_item.exchange_variant.try(:exchange_name)
        %td
          = return_item.acceptance_status_errors
        - if show_decision
          %td.actions.actions-2
            = button_to [:admin, return_item], { class: 'with-tip display-inline btn btn-success btn-sm', params: { "return_item[acceptance_status]" => 'accepted' }, "data-action" => 'save', title: Spree.t(:accept), method: 'put' } do
              = Spree.t(:accept)
            - end if can?(:accept, return_item)
            = button_to [:admin, return_item], { class: 'with-tip display-inline btn btn-danger btn-sm', params: { "return_item[acceptance_status]" => 'rejected' }, "data-action" => 'remove', title: Spree.t(:reject), method: 'put' } do
              = Spree.t(:reject)
            - end if can?(:reject, return_item)
