%div{"data-hook" => "admin_shipping_method_form_fields"}
  .row
    .col-md-6{"data-hook" => "admin_shipping_method_form_name_field"}
      = f.field_container :name, class: ['form-group'] do
        = f.label :name, Spree.t(:name)
        = f.text_field :name, class: 'form-control'
        = f.error_message_on :name
    .col-md-6{"data-hook" => "admin_shipping_method_form_display_field"}
      = f.field_container :display_on, class: ['form-group'] do
        = f.label :display_on, Spree.t(:display)
        = select(:shipping_method, :display_on, Spree::ShippingMethod::DISPLAY.collect { |display| [Spree.t(display), display == :both ? nil : display.to_s] }, {}, { class: 'select2' })
        = f.error_message_on :display_on
  .row
    .col-md-4{"data-hook" => "admin_shipping_method_form_internal_name_field"}
      = f.field_container :admin_name, class: ['form-group'] do
        = f.label :admin_name, Spree.t(:internal_name)
        = f.text_field :admin_name, class: 'form-control', label: false
        = f.error_message_on :admin_name
    .col-md-4{"data-hook" => "admin_shipping_method_form_code"}
      = f.field_container :code, class: ['form-group'] do
        = f.label :code, Spree.t(:code)
        = f.text_field :code, class: 'form-control', label: false
        = f.error_message_on :code
    .col-md-4{"data-hook" => "admin_shipping_method_form_tracking_url_field"}
      = f.field_container :tracking_url, class: ['form-group'] do
        = f.label :tracking_url, Spree.t(:tracking_url)
        = f.text_field :tracking_url, class: 'form-control', placeholder: Spree.t(:tracking_url_placeholder)
        = f.error_message_on :tracking_url
.row
  .col-md-6{"data-hook" => "admin_shipping_method_form_availability_fields"}
    .panel.panel-default.categories
      .panel-heading
        %h1.panel-title
          = Spree.t(:shipping_categories)
      .panel-body
        = f.field_container :categories, class: ['form-group'] do
          - Spree::ShippingCategory.all.each do |category|
            .checkbox
              = label_tag do
                = check_box_tag('shipping_method[shipping_categories][]', category.id, @shipping_method.shipping_categories.include?(category))
                = category.name
          = f.error_message_on :shipping_category_id
  .col-md-6
    .panel.panel-default
      .panel-heading
        %h1.panel-title
          = Spree.t(:zones)
      .panel-body
        = f.field_container :zones, class: ['form-group'] do
          - shipping_method_zones = @shipping_method.zones.to_a
          - Spree::Zone.all.each do |zone|
            .checkbox
              = label_tag do
                = check_box_tag('shipping_method[zones][]', zone.id, shipping_method_zones.include?(zone))
                = zone.name
          = f.error_message_on :zone_id
.row
  .col-md-6{"data-hook" => "admin_shipping_method_form_calculator_fields"}
    = render partial: 'spree/admin/shared/calculator_fields', locals: { f: f }
  .col-md-6
    .panel.panel-default.tax_categories
      .panel-heading
        %h1.panel-title
          = Spree.t(:tax_category)
      .panel-body
        = f.field_container :categories, class: ['form-group'] do
          = f.select :tax_category_id, @tax_categories.map { |tc| [tc.name, tc.id] }, { include_blank: true }, class: "select2"
          = f.error_message_on :tax_category_id
